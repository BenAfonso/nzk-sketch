!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.nzkSketch=e()}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t.containerEl)throw new Error("NZKSketch needs to be instantiated with a containerEl");this.containerEl=t.containerEl,this.template=t.template,this.scale=window.devicePixelRatio>=1.5?2:1,console.log(this),this.initTouchLayer()}var n,o,i;return n=e,(o=[{key:"initTouchLayer",value:function(){this.touchLayerEl=document.createElement("div"),this.touchLayerEl.style.width="100%",this.touchLayerEl.style.height="100%",this.onStartMouseDraw=this.onStartMouseDraw.bind(this),this.onMoveMouseDraw=this.onMoveMouseDraw.bind(this),this.onEndMouseDraw=this.onEndMouseDraw.bind(this),this.touchLayerEl.addEventListener("mousedown",this.onStartMouseDraw,!1),this.touchLayerEl.addEventListener("mousemove",this.onMoveMouseDraw,!1),this.touchLayerEl.addEventListener("mouseup",this.onEndMouseDraw,!1),this.onStartTouchDraw=this.onStartTouchDraw.bind(this),this.onMoveTouchDraw=this.onMoveTouchDraw.bind(this),this.onEndTouchDraw=this.onEndTouchDraw.bind(this),this.touchLayerEl.addEventListener("touchstart",this.onStartTouchDraw,!1),this.touchLayerEl.addEventListener("touchmove",this.onMoveTouchDraw,!1),this.touchLayerEl.addEventListener("touchend",this.onEndTouchDraw,!1),this.containerEl.appendChild(this.touchLayerEl)}},{key:"getMousePoint",value:function(t){var e=this.touchLayerEl.getBoundingClientRect();return{x:(t.clientX-e.left)*this.scale,y:(t.clientY-e.top)*this.scale}}},{key:"getTouchPoint",value:function(t){var e=this.touchLayerEl.getBoundingClientRect();return{x:(t.touches[0].clientX-e.left)*this.scale,y:(t.touches[0].clientY-e.top)*this.scale}}},{key:"onStartMouseDraw",value:function(t){t.preventDefault(),this.startDraw(this.getMousePoint(t))}},{key:"onStartTouchDraw",value:function(t){t.preventDefault(),this.startDraw(this.getTouchPoint(t))}},{key:"onMoveMouseDraw",value:function(t){this.continueDraw(this.getMousePoint(t))}},{key:"onMoveTouchDraw",value:function(t){this.continueDraw(this.getTouchPoint(t))}},{key:"onEndMouseDraw",value:function(t){this.endDraw(this.getMousePoint(t))}},{key:"onEndTouchDraw",value:function(t){this.endDraw(this.getTouchPoint(t))}},{key:"startDraw",value:function(t){console.log("Start draw at:",t)}},{key:"continueDraw",value:function(t){console.log("Continue draw at:",t)}},{key:"endDraw",value:function(t){console.log("End draw at:",t)}}])&&t(n.prototype,o),i&&t(n,i),e}();return function(){new e(document.getElementById("sketch-container"))}});
//# sourceMappingURL=example.min.js.map
